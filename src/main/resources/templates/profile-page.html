<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - UkrLitExchange"</title>
    <link th:href="@{/css/profile-page.css}" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div class="content-container">
    <header th:replace="~{fragments/header.html :: header}"></header>

    <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –¥–ª—è –≤–∫–ª–∞–¥–æ–∫ -->
    <ul class="nav nav-tabs"  role="tablist">
        <li class="nav-item" role="presentation">
            <a class="nav-link active" id="tab1-tab" data-bs-toggle="tab" href="#tab1" role="tab" aria-controls="tab1" aria-selected="true">Profile</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="tab2-tab" data-bs-toggle="tab" href="#tab2" role="tab" aria-controls="tab2" aria-selected="false">My Books</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="tab3-tab" data-bs-toggle="tab" href="#tab3" role="tab" aria-controls="tab3" aria-selected="false">Groups</a>
        </li>
        <li class="nav-item" role="presentation">
            <a class="nav-link" id="tab4-tab" data-bs-toggle="tab" href="#tab4" role="tab" aria-controls="tab4" aria-selected="false">Institution</a>
        </li>
    </ul>

    <!-- –í–º—ñ—Å—Ç –≤–∫–ª–∞–¥–æ–∫ -->
    <div class="tab-content mt-4">

        <!-- –°–µ–∫—Ü—ñ—è –ø—Ä–æ—Ñ—ñ–ª—é -->
        <div class="tab-pane fade show active" id="tab1" role="tabpanel" aria-labelledby="tab1-tab">
            <section class="profile-header">
                <div class="profile-avatar">
                    <!-- <img src="https://via.placeholder.com/150" alt="User Avatar"> -->
                    <!-- <button class="edit-profile-btn">Edit Profile</button> -->
                </div>
                <div class="profile-details">
                    <h2 th:text="${user.fullName}"></h2>
                    <p>üìç Location: <span th:text="${user.location}"/></p>
                    <p>üìö Bio: <span th:text="${user.bio}" /></p>
                </div>
            </section>

            <!-- –°–µ–∫—Ü—ñ—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó -->
            <section class="profile-info">
                <h3>Contact Information</h3>
                <p>Username: <span th:text="${user.username}" /></p>
                <p>Email: <span th:text="${user.email}" /></p>
            </section>

             <button class="edit-profile-btn">Edit Info Profile</button>
        </div>

        <!-- –°–µ–∫—Ü—ñ—è "–ú–æ—ó –∫–Ω–∏–≥–∏" -->
        <div class="tab-pane fade" id="tab2" role="tabpanel" aria-labelledby="tab2-tab">
            <section class="book-list">
                <h3>My Books</h3>

                <ul>
                    <li th:each="books : ${user.books}">
                        Title: <span th:text="${books.title}" /> |
                        Author: <span th:text="${books.author}"/> |
                        Genre: <span th:text="${books.genre}" /> |
                        Language: <span th:text="${books.language}" /> |
                        Status: <span th:text="${books.bookStatus}"/>
                    </li>
                </ul>
            </section>
        </div>

        <!-- –°–µ–∫—Ü—ñ—è "–ú–æ—ó –≥—Ä—É–ø–∏" -->
        <div class="tab-pane fade" id="tab3" role="tabpanel" aria-labelledby="tab3-tab">
            <section class="group-info">
                <h3>Group Membership</h3>
                <ul th:each="group : ${user.groups}">
                    <li>Group: <span th:text="${group.name}" /></li>
                </ul>
            </section>
        </div>

        <!-- –°–µ–∫—Ü—ñ—è "–ù–∞–≤—á–∞–ª—å–Ω–∏–π –∑–∞–∫–ª–∞–¥" -->
        <div class="tab-pane fade" id="tab4" role="tabpanel" aria-labelledby="tab4-tab">
            <section class="institution-info">
                <h3>Institution</h3>
                <ul>
                    <li>Name: <span th:text="${user.institution.name}" /></li>
                    <li>Type: <span th:text="${user.institution.type}" /></li>
                </ul>
            </section>
        </div>

        <!-- –ú–æ—ó –≤—ñ–¥–≥—É–∫–∏ -->
        <div class="tab-pane fade" id="tab5">
            <section class="reviews-section">
                <h3>My Reviews</h3>
                <ul>
                    <li th:each="review : ${user.}">
                        <strong th:text="${review.reviewer.fullName}"></strong> rated you
                        <span th:text="${review.rating}"></span>/5
                        <p th:text="${review.comment}"></p>
                    </li>
                </ul>
            </section>
        </div>

    </div>

    <footer th:replace="~{/fragments/footer.html :: footer}"></footer>
</div>
</body>
</html>

